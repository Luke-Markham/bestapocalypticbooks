{"version":3,"sources":["components/searchResult/searchResult.component.jsx","components/search/search.component.jsx","components/nav/navDesktop/navDesktop.component.jsx","../../modules/BrowserRouter.js","../../modules/HashRouter.js","../../modules/utils/locationUtils.js","../../modules/Link.js","../../modules/NavLink.js","redux/bookPage/bookPageActions.js","assets/svg/close.svg","redux/authorPage/authorPageActions.js","redux/search/searchActions.js","redux/nav/navActions.js","components/logo/logo.component.jsx","assets/svg/logo.svg","assets/svg/search.svg"],"names":["SearchResult","handleSearchResultSelection","result","index","cursorPosition","book","className","onClick","onKeyDown","e","console","log","title","author","series","name","length","genre","typeOfQuery","connect","search","searchResults","isSearching","isSearchBarOpen","dispatch","toggleSearchBar","fetchSearchResultsAsync","searchInputValue","clearSearchResults","booleanFalse","fetchSearchSuccess","setStartSearching","fetchSearchStart","clearPreviousBookPageBookState","clearValue","fetchBookPageBookSuccess","clearPreviousBookPageRelatedBooksState","fetchBookPageRelatedBooksSuccess","pushBookToBookPageState","clearPreviousAuthorPageBooksState","fetchAuthorPageBooksSuccess","pushBooksToAuthorPageBooksState","history","useHistory","useState","setSearchInputValue","typingTimer","setTypingTimer","cursor","setCursor","handleTitleSelect","a","push","dashlize","handleAuthorSelect","imagesForCache","authorsBooks","filter","src","undefined","cacheImage","handleInputKeyDown","key","preventDefault","clearTimeout","setTimeout","SearchIcon","alt","type","placeholder","onChange","target","value","handleInputChange","onKeyUp","CloseIcon","map","saveNavHeightValue","height","React","enableBkg","setEnableBkg","navRef","useRef","location","useLocation","useEffect","pathname","includes","current","clientHeight","window","addEventListener","scrollY","removeEventListener","ref","to","Component","resolveToLocation","currentLocation","normalizeToLocation","createLocation","forwardRefShim","C","forwardRef","LinkAnchor","innerRef","navigate","rest","props","event","ex","isModifiedEvent","forwardedRef","Link","component","replace","RouterContext","context","href","method","NavLink","ariaCurrent","activeClassName","activeStyle","classNameProp","exact","isActiveProp","isActive","locationProp","sensitive","strict","styleProp","style","toLocation","path","escapedPath","match","matchPath","classnames","i","joinClassnames","payload","fetchBookPageBookAsync","titleCameled","camelize","dedashlize","firestore","collection","doc","get","then","exists","data","catch","error","message","books","fetchBookPageRelatedBooksAsync","titleSpaced","where","querySnapshot","forEach","seriesName","querySnapshot2","relatedBooks","doc2","module","exports","fetchAuthorPageBooksAsync","authorName","Search","fetchSearchFailure","errorMessage","searchValue","toLowerCase","booksRef","authorQuery","titleQuery","seriesQuery","genreQuery","queryTypes","promises","query","promise","Promise","resolve","reject","bookResults","baseQueryResults","n","results","concat","Error","all","values","flat","Logo","LogoIcon"],"mappings":"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","file":"static/js/5.f7baee6f.chunk.js","sourcesContent":["import React from 'react';\n\nconst SearchResult = ({\n  handleSearchResultSelection,\n  result,\n  index,\n  cursorPosition,\n}) => {\n  const book = (\n    <span\n      className={`search-result ${\n        cursorPosition === index ? 'search-result-active' : ''\n      }`}\n      onClick={() => handleSearchResultSelection(result)}\n      onKeyDown={(e) => {\n        console.log(e);\n      }}\n    >\n      {result.title} - {result.author}{' '}\n      {result.series && result.series.name.length > 0\n        ? '(' + result.series.name + ')'\n        : null}\n    </span>\n  );\n\n  const author = (\n    <span\n      className={`search-result ${\n        cursorPosition === index ? 'search-result-active' : ''\n      }`}\n      onClick={() => handleSearchResultSelection(result)}\n    >\n      {result.author} (Author)\n    </span>\n  );\n  const series = (\n    <span\n      className={`search-result ${\n        cursorPosition === index ? 'search-result-active' : ''\n      }`}\n      onClick={() => handleSearchResultSelection(result)}\n    >\n      {result.series} (Series)\n    </span>\n  );\n  const genre = (\n    <span\n      className={`search-result ${\n        cursorPosition === index ? 'search-result-active' : ''\n      }`}\n      onClick={() => handleSearchResultSelection(result)}\n    >\n      {result.genre} (genre)\n    </span>\n  );\n\n  return (\n    <>\n      {result.typeOfQuery === 'genre'\n        ? genre\n        : result.typeOfQuery === 'author'\n        ? author\n        : result.typeOfQuery === 'series'\n        ? series\n        : book}\n    </>\n  );\n};\n\nexport default SearchResult;\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  fetchSearchResultsAsync,\n  fetchSearchSuccess,\n  fetchSearchStart,\n  toggleSearchBar,\n} from '../../redux/search/searchActions';\nimport {\n  fetchBookPageBookSuccess,\n  fetchBookPageRelatedBooksSuccess,\n} from '../../redux/bookPage/bookPageActions';\nimport { fetchAuthorPageBooksSuccess } from '../../redux/authorPage/authorPageActions';\nimport SearchIcon from '../../assets/svg/search.svg';\nimport CloseIcon from '../../assets/svg/close.svg';\nimport SearchResult from '../searchResult/searchResult.component';\nimport { dashlize, cacheImage } from '../../utilities/funcs';\n\nconst Search = ({\n  // Search Bar\n  toggleSearchBar,\n  isSearchBarOpen,\n  // Searching\n  setStartSearching,\n  fetchSearchResultsAsync,\n  isSearching,\n  searchResults,\n  clearSearchResults,\n  // Book Page\n  clearPreviousBookPageBookState,\n  clearPreviousBookPageRelatedBooksState,\n  pushBookToBookPageState,\n  // Author Page\n  clearPreviousAuthorPageBooksState,\n  pushBooksToAuthorPageBooksState,\n}) => {\n  const history = useHistory();\n  const [searchInputValue, setSearchInputValue] = useState('');\n  const [typingTimer, setTypingTimer] = useState();\n  const [cursor, setCursor] = useState(-1);\n\n  //  =-=-=-=-=-=-= Handle selection of a search result =-=-=-=-=-=-=\n\n  const handleTitleSelect = async (result) => {\n    await clearPreviousBookPageBookState(null);\n    await clearPreviousBookPageRelatedBooksState(null);\n    history.push(`/bestapocalypticbooks/books/${dashlize(result.title)}`);\n    pushBookToBookPageState(result);\n    toggleSearchBar();\n    setSearchInputValue('');\n  };\n\n  const handleAuthorSelect = async (result) => {\n    await clearPreviousAuthorPageBooksState(null);\n    const imagesForCache = [];\n    const authorsBooks = searchResults.filter((book) => {\n      imagesForCache.push(book.src);\n      return book.author === result.author && book.title !== undefined;\n    });\n    cacheImage(imagesForCache);\n    history.push(`/bestapocalypticbooks/authors/${dashlize(result.author)}`);\n    pushBooksToAuthorPageBooksState(authorsBooks);\n    toggleSearchBar();\n    setSearchInputValue('');\n  };\n\n  const handleSearchResultSelection = (result) => {\n    if (result.typeOfQuery === 'author') {\n      handleAuthorSelect(result);\n    } else if (result.typeOfQuery === 'series') {\n      console.log('series:', result);\n    } else if (result.typeOfQuery === 'genre') {\n      console.log('genre:', result);\n    } else {\n      handleTitleSelect(result);\n    }\n  };\n  // =-=-=-=-=-=-= Handle Search typing and navigation of results =-=-=-=-=-=-=\n\n  function handleInputChange(e) {\n    setSearchInputValue(e.target.value);\n    setStartSearching();\n  }\n\n  function handleSearching() {\n    clearTimeout(typingTimer);\n    if (searchInputValue) {\n      setTypingTimer(\n        setTimeout(() => {\n          fetchSearchResultsAsync(searchInputValue);\n        }, 400)\n      );\n    } else {\n      clearSearchResults(false);\n    }\n  }\n\n  function handleArrowToggle(key) {\n    if (key === 'ArrowDown' && cursor !== searchResults.length - 1) {\n      setCursor(cursor + 1);\n    } else if (key === 'ArrowUp' && cursor !== 0) {\n      setCursor(cursor - 1);\n    }\n  }\n\n  function handlePressEnter() {\n    handleSearchResultSelection(searchResults[cursor]);\n    // console.log(searchResults[cursor]);\n  }\n\n  function handleInputKeyDown(e) {\n    if (\n      searchInputValue.length > 0 &&\n      searchResults.length > 0 &&\n      (e.key === 'ArrowDown' || e.key === 'ArrowUp')\n    ) {\n      e.preventDefault();\n      handleArrowToggle(e.key);\n    } else if (\n      searchInputValue.length > 0 &&\n      searchResults.length > 0 &&\n      e.key === 'Enter'\n    ) {\n      handlePressEnter();\n    } else {\n      handleSearching();\n    }\n  }\n\n  return (\n    <div className=\"search-container\">\n      <div className=\"search-bar-container\">\n        {/* =-=-=-=-=-=-=-= Open Search =-=-=-=-=-=-=-= */}\n        {isSearchBarOpen ? null : (\n          <div\n            onClick={() => toggleSearchBar()}\n            className={`search-bar-icon-container ${\n              isSearchBarOpen ? 'search-bar-icon-bkg' : ''\n            }`}\n          >\n            <img\n              src={SearchIcon}\n              alt=\"Search Icon\"\n              className=\"search-bar-search-icon\"\n            />\n          </div>\n        )}\n        {/* =-=-=-=-=-=-=-= Search Input =-=-=-=-=-=-=-= */}\n        <input\n          className={`search-bar-input ${\n            isSearchBarOpen ? 'search-bar-input-open' : ''\n          }`}\n          type=\"text\"\n          placeholder=\"Titles, Authors, Series, Genre\"\n          onChange={(e) => handleInputChange(e)}\n          onKeyUp={(e) => {\n            handleInputKeyDown(e);\n          }}\n          value={searchInputValue}\n        />\n        {/* =-=-=-=-=-=-=-= Close Search =-=-=-=-=-=-=-= */}\n        {isSearchBarOpen ? (\n          <div\n            onClick={() => {\n              toggleSearchBar();\n              setSearchInputValue('');\n            }}\n            className={`search-bar-icon-container ${\n              isSearchBarOpen ? 'search-bar-icon-bkg' : ''\n            }`}\n          >\n            <img\n              src={CloseIcon}\n              alt=\"Close Icon\"\n              className={`search-bar-search-close ${\n                isSearchBarOpen ? 'search-bar-search-close-show' : ''\n              }`}\n            />\n          </div>\n        ) : null}\n      </div>\n      {/* =-=-=-=-=-=-=-= Search Results =-=-=-=-=-=-=-= */}\n      <div className=\"search-results-container\">\n        {searchInputValue && isSearching ? (\n          <span className=\"search-searching\">Searching...</span>\n        ) : searchInputValue && !searchResults ? (\n          <span className=\"search-no-results\">No Results</span>\n        ) : searchInputValue && searchResults.length > 0 ? (\n          searchResults.map((result, index) => {\n            return (\n              <SearchResult\n                cursorPosition={cursor}\n                handleSearchResultSelection={handleSearchResultSelection}\n                result={result}\n                key={index}\n                index={index}\n              />\n            );\n          })\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  // Search Bar\n  toggleSearchBar: () => dispatch(toggleSearchBar()),\n  // Search Results\n  fetchSearchResultsAsync: (searchInputValue) =>\n    dispatch(fetchSearchResultsAsync(searchInputValue)),\n  clearSearchResults: (booleanFalse) =>\n    dispatch(fetchSearchSuccess(booleanFalse)),\n  setStartSearching: () => dispatch(fetchSearchStart()),\n  // Book Page\n  clearPreviousBookPageBookState: (clearValue) =>\n    dispatch(fetchBookPageBookSuccess(clearValue)),\n  clearPreviousBookPageRelatedBooksState: (clearValue) =>\n    dispatch(fetchBookPageRelatedBooksSuccess(clearValue)),\n  pushBookToBookPageState: (book) => dispatch(fetchBookPageBookSuccess(book)),\n  // Author Page\n  clearPreviousAuthorPageBooksState: (clearValue) =>\n    dispatch(fetchAuthorPageBooksSuccess(clearValue)),\n  pushBooksToAuthorPageBooksState: (book) =>\n    dispatch(fetchAuthorPageBooksSuccess(book)),\n});\n\nconst mapStateToProps = ({ search }) => ({\n  searchResults: search.searchResults,\n  isSearching: search.isSearching,\n  isSearchBarOpen: search.isSearchBarOpen,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveNavHeightValue } from '../../../redux/nav/navActions';\nimport { NavLink } from 'react-router-dom';\nimport Logo from '../../logo/logo.component';\nimport Search from '../../search/search.component';\n\nconst NavDesktop = ({ saveNavHeightValue }) => {\n  const [enableBkg, setEnableBkg] = React.useState(false);\n  const navRef = React.useRef(null);\n  const location = useLocation();\n\n  React.useEffect(() => {\n    if (\n      location.pathname.includes('/home') ||\n      location.pathname.includes('/books')\n    ) {\n      setTimeout(() => {\n        console.log(navRef.current.clientHeight);\n        saveNavHeightValue(navRef.current.clientHeight);\n      }, 250);\n    }\n    window.addEventListener('scroll', function () {\n      if (window.scrollY !== 0) {\n        setEnableBkg(true);\n      } else {\n        setEnableBkg(false);\n      }\n    });\n    return () => {\n      window.removeEventListener('scroll', null);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location]);\n\n  return (\n    <nav\n      className={`${enableBkg ? 'desktop-nav nav-scroll-bkg' : 'desktop-nav'}`}\n      ref={navRef}\n    >\n      <Logo />\n      <ul>\n        <NavLink to=\"/bestapocalypticbooks/home\">Home</NavLink>\n        <NavLink to=\"/bestapocalypticbooks/toppicks\">Top Picks</NavLink>\n        <NavLink to=\"/bestapocalypticbooks/about\">About</NavLink>\n        <NavLink to=\"/bestapocalypticbooks/contact\">Contact</NavLink>\n      </ul>\n      <Search />\n    </nav>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  saveNavHeightValue: (height) => dispatch(saveNavHeightValue(height)),\n});\n\nexport default connect(null, mapDispatchToProps)(NavDesktop);\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const method = replace ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link.js\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\",\n      activeStyle,\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      sensitive,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                sensitive,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          const className = isActive\n            ? joinClassnames(classNameProp, activeClassName)\n            : classNameProp;\n          const style = isActive ? { ...styleProp, ...activeStyle } : styleProp;\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  };\n}\n\nexport default NavLink;\n","import { firestore } from '../../firebase/firebase';\nimport { camelize, dedashlize } from '../../utilities/funcs';\n\n// BOOK =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nexport const fetchBookPageBookStart = () => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_START',\n  };\n};\n\nexport const fetchBookPageBookSuccess = (book) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_SUCCESS',\n    payload: book,\n  };\n};\n\nexport const fetchBookPageBookFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchBookPageBookAsync = (title) => {\n  const titleCameled = camelize(dedashlize(title));\n  return (dispatch) => {\n    dispatch(fetchBookPageBookStart());\n    const docRef = firestore.collection('books').doc(titleCameled);\n    let book;\n    docRef\n      .get()\n      .then(function (doc) {\n        if (doc.exists) {\n          book = doc.data();\n        } else {\n          book = false;\n        }\n        dispatch(fetchBookPageBookSuccess(book));\n      })\n      .catch((error) => dispatch(fetchBookPageBookFailure(error.message)));\n  };\n};\n\n// RELATED BOOKS =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nexport const fetchBookPageRelatedBooksStart = () => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_START',\n  };\n};\n\nexport const fetchBookPageRelatedBooksSuccess = (books) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS',\n    payload: books,\n  };\n};\n\nexport const fetchBookPageRelatedBooksFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchBookPageRelatedBooksAsync = (title) => {\n  const titleSpaced = dedashlize(title);\n  return (dispatch) => {\n    dispatch(fetchBookPageRelatedBooksStart());\n    const docQuery = firestore\n      .collection('books')\n      .where('title', '==', titleSpaced)\n      .where('series.name', '>', '');\n\n    docQuery\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          if (doc.exists) {\n            const seriesName = doc.data().series.name;\n            const seriesQuery = firestore\n              .collection('books')\n              .where('series.name', '==', seriesName);\n\n            seriesQuery.get().then((querySnapshot2) => {\n              const relatedBooks = [];\n              querySnapshot2.forEach((doc2) => {\n                const book = doc2.data();\n                relatedBooks.push(book);\n              });\n\n              dispatch(fetchBookPageRelatedBooksSuccess(relatedBooks));\n            });\n          } else {\n            dispatch(fetchBookPageRelatedBooksSuccess(false));\n          }\n        });\n      })\n      .catch((error) => dispatch(fetchBookPageRelatedBooksFailure(error)));\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/close.62bc743b.svg\";","import { firestore } from '../../firebase/firebase';\nimport { dedashlize } from '../../utilities/funcs';\n\nexport const fetchAuthorPageBooksStart = () => {\n  return {\n    type: 'FETCH_AUTHOR_PAGE_BOOKS_START',\n  };\n};\n\nexport const fetchAuthorPageBooksSuccess = (books) => {\n  return {\n    type: 'FETCH_AUTHOR_PAGE_BOOKS_SUCCESS',\n    payload: books,\n  };\n};\n\nexport const fetchAuthorPageBooksFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_AUTHOR_PAGE_BOOKS_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchAuthorPageBooksAsync = (author) => {\n  const authorName = dedashlize(author);\n  return (dispatch) => {\n    dispatch(fetchAuthorPageBooksStart());\n    const booksRef = firestore.collection('books');\n    const authorQuery = booksRef.where('author', '==', authorName);\n    authorQuery\n      .get()\n      .then((querySnapshot) => {\n        const books = [];\n        querySnapshot.forEach((doc) => {\n          const data = doc.data();\n          books.push(data);\n        });\n        dispatch(fetchAuthorPageBooksSuccess(books));\n      })\n      .catch((error) => dispatch(fetchAuthorPageBooksFailure(error)));\n  };\n};\n","import { firestore } from '../../firebase/firebase';\n\nexport const toggleSearchBar = () => {\n  return {\n    type: 'TOGGLE_SEARCH_BAR',\n  };\n};\n\nexport const fetchSearchStart = () => {\n  return {\n    type: 'FETCH_SEARCH_START',\n  };\n};\n\nexport const fetchSearchSuccess = (Search) => {\n  return {\n    type: 'FETCH_SEARCH_SUCCESS',\n    payload: Search,\n  };\n};\n\nexport const fetchSearchFailure = async (errorMessage) => {\n  return {\n    type: 'FETCH_SEARCH__FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchSearchResultsAsync = (searchValue) => {\n  searchValue = searchValue.toLowerCase();\n  return (dispatch) => {\n    // Dispatched onChange of search bar input to speed up the setting of state.search.isSearching\n    // dispatch(fetchSearchStart());\n    const booksRef = firestore.collection('books');\n    const authorQuery = booksRef\n      .where('author', '>=', searchValue)\n      .where('author', '<=', searchValue + '\\uf8ff');\n    const titleQuery = booksRef\n      .where('title', '>=', searchValue)\n      .where('title', '<=', searchValue + '\\uf8ff');\n    const seriesQuery = booksRef\n      .where('series.name', '>=', searchValue)\n      .where('series.name', '<=', searchValue + '\\uf8ff');\n    // can only find a match in an array if the searchValue is 100% match\n    const genreQuery = booksRef.where('tags', 'array-contains', searchValue);\n\n    const queries = [titleQuery, authorQuery, seriesQuery, genreQuery];\n    const queryTypes = ['title', 'author', 'series', 'genre'];\n    const promises = [];\n\n    queries.forEach((query, i) => {\n      const promise = new Promise((resolve, reject) => {\n        query.get().then((querySnapshot) => {\n          const bookResults = [];\n          const baseQueryResults = [];\n\n          querySnapshot.forEach((doc) => {\n            const data = doc.data();\n\n            if (queryTypes[i] === 'author') {\n              if (!baseQueryResults.includes(data.author)) {\n                baseQueryResults.push(data.author);\n              }\n            } else if (queryTypes[i] === 'series') {\n              if (!baseQueryResults.includes(data.series.name)) {\n                baseQueryResults.push(data.series.name);\n              }\n            } else if (queryTypes[i] === 'genre') {\n              /* we have to use the total searchValue due the the limit of firebase queries for arrays will only\n              return a doc based on a full match within an array. */\n              if (!baseQueryResults.includes(searchValue)) {\n                baseQueryResults.push(searchValue);\n              }\n            }\n            bookResults.push(data);\n          });\n\n          baseQueryResults.forEach((current, n) => {\n            baseQueryResults[n] = {\n              typeOfQuery: queryTypes[i],\n              [queryTypes[i]]: current,\n            };\n          });\n\n          const results = baseQueryResults.concat(bookResults);\n\n          resolve(results);\n          reject(new Error('promise failed'));\n        });\n      }).then();\n\n      promises.push(promise);\n    });\n\n    Promise.all(promises)\n      .then((values) => {\n        let result = values.flat();\n        if (result.length === 0) {\n          result = false;\n        }\n        dispatch(fetchSearchSuccess(result));\n      })\n      .catch((error) => dispatch(fetchSearchFailure(error)));\n  };\n};\n","export const saveNavHeightValue = (height) => {\n  return {\n    type: 'SAVE_NAV_HEIGHT_VALUE',\n    payload: height,\n  };\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport LogoIcon from '../../assets/svg/logo.svg';\n\nconst Logo = () => {\n  const history = useHistory();\n  return (\n    <div className=\"logo-container\">\n      <img\n        src={LogoIcon}\n        alt=\"logo\"\n        className=\"logo\"\n        onClick={() => history.push('/bestapocalypticbooks/home')}\n      />\n    </div>\n  );\n};\n\nexport default Logo;\n","module.exports = __webpack_public_path__ + \"static/media/logo.3754652c.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.21a238ee.svg\";"],"sourceRoot":""}