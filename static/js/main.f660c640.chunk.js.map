{"version":3,"sources":["utilities/funcs.js","firebase/firebase.js","components/generalBtn/generalBtn.component.jsx","assets/png/IntroBkg-min.png","redux/featuredBook/featuredBookReducer.js","redux/carousel/carouselReducer.js","redux/nav/navReducer.js","redux/search/searchReducer.js","redux/bookPage/bookPageReducer.js","redux/authorPage/authorPageReducer.js","redux/root-reducer.js","redux/store.js","redux/featuredBook/featuredBookActions.js","components/appLoader/appLoader.component.jsx","components/input/input.component.jsx","pages/Contact/contact-page.component.jsx","App.js","serviceWorker.js","index.js"],"names":["handleDesc","description","modifier","lastSpace","substr","lastIndexOf","split","map","desc","index","key","length","cacheImage","srcArray","setIsLoading","forEach","src","Promise","resolve","reject","img","Image","onload","onerror","undefined","camelize","str","replace","word","toLowerCase","toUpperCase","dashlize","dedashlize","join","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","storage","auth","createBook","title","author","series","seriesNumber","tags","audiobook","audio","kindle","paperback","featured","coverFile","titleCameled","links","name","number","docRef","collection","doc","get","then","exists","storeCoverPic","update","alert","catch","error","set","getOptions","toGet","a","booksRef","querySnapshot","result","option","opt","includes","push","bookTitleCameled","picToUpload","storageRef","ref","put","getDownloadURL","picUrl","console","log","GeneralBtn","colorClass","text","link","func","type","className","onClick","href","target","rel","module","exports","INITIAL_STATE","featuredBook","isFetching","errorMessage","featuredBookReducer","state","action","payload","carouselBooksReducer","genre","height","navReducer","isSearchBarOpen","isSearching","searchResults","searchReducer","isFetchingBook","book","bookErrorMessage","isFetchingRelatedBooks","relatedBooks","relatedBooksErrorMessage","bookPageReducer","authorsBooks","authorPageReducer","combineReducers","carouselBooks","nav","search","bookPage","authorPage","middlewares","thunk","store","createStore","rootReducer","applyMiddleware","getState","fetchFeaturedBookStart","AppLoader","useEffect","tID","position","setInterval","document","getElementById","style","backgroundPosition","clearInterval","id","FormInput","handleChange","label","otherProps","onChange","value","ContactPage","email","message","sent","handleForm","e","preventDefault","setState","setTimeout","this","bind","handleFields","duration","onSubmit","down","left","required","right","rows","placeholder","React","Component","customHistory","createBrowserHistory","MobileMediaQuery","children","useMediaQuery","minWidth","maxWidth","TabletOrDesktopMediaQuery","ErrorBoundary","lazy","NavDesktop","NavMobile","CreateBook","FourZeroFour","HomePage","BookPage","AuthorPage","connect","dispatch","fetchFeaturedBookAsync","where","data","useState","isLoading","imgs","mainBkg","history","fallback","exact","path","to","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f660c640.chunk.js","sourcesContent":["import React from 'react';\n\nexport function handleDesc(description, modifier) {\n  if (modifier === 'highlight') {\n    description = description.substr(0, 519);\n    const lastSpace = description.lastIndexOf(' ');\n    description = description.substr(0, lastSpace);\n    description = description.split('*');\n  } else {\n    description = description.split('*');\n  }\n  return description.map((desc, index) => {\n    return (\n      <span key={index}>\n        {desc}\n        {index === description.length - 1 && modifier === 'highlight'\n          ? '...'\n          : index === description.length - 1\n          ? '..'\n          : ''}\n        <br />\n        <br />\n      </span>\n    );\n  });\n}\n\nexport function cacheImage(srcArray, setIsLoading) {\n  srcArray.forEach((src) => {\n    new Promise(function (resolve, reject) {\n      const img = new Image();\n\n      img.src = src;\n      img.onload = resolve();\n      img.onerror = reject();\n    });\n  });\n\n  if (setIsLoading !== undefined) {\n    setIsLoading(false);\n  }\n}\n\nexport function camelize(str) {\n  return str\n    .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (word, index) {\n      return index === 0 ? word.toLowerCase() : word.toUpperCase();\n    })\n    .replace(/\\s+/g, '');\n}\n\nexport function dashlize(str) {\n  return str.replace(/\\s/g, '-');\n}\n\nexport function dedashlize(str) {\n  return str.split('-').join(' ');\n}\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport { camelize } from '../utilities/funcs';\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDGP--Y0PXYunox7TXU8XmwknSed1mZjRc',\n  authDomain: 'bestapocalypticbooks.firebaseapp.com',\n  databaseURL: 'https://bestapocalypticbooks.firebaseio.com',\n  projectId: 'bestapocalypticbooks',\n  storageBucket: 'bestapocalypticbooks.appspot.com',\n  messagingSenderId: '627300782228',\n  appId: '1:627300782228:web:c8e953b710e99a687a6481',\n  measurementId: 'G-D7MC31YZJG',\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n// firebase.analytics();\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\nexport const storage = firebase.storage();\n\nexport async function getBook(title) {\n  const docRef = firestore.collection('books').doc(title);\n  const doc = await docRef.get();\n  if (doc.exists) {\n    return doc.data();\n  } else {\n    console.log('No such document!');\n  }\n  return doc;\n}\n\nexport async function getCarouselItems(tag) {\n  const booksRef = firestore.collection('books');\n  const query = booksRef.where('tags', 'array-contains', `${tag}`);\n  return await query.get().then(function (querySnapshot) {\n    let result = [];\n    querySnapshot.forEach(function (doc) {\n      const bookData = doc.data();\n      bookData.description = bookData.description.split('*');\n      result.push(bookData);\n    });\n    return result;\n  });\n}\n\nexport const createBook = ({\n  title,\n  author,\n  series,\n  seriesNumber,\n  description,\n  tags,\n  audiobook,\n  audio,\n  kindle,\n  paperback,\n  featured,\n  coverFile,\n}) => {\n  const titleCameled = camelize(title);\n  tags = tags.split(',');\n  const links = {\n    audiobook,\n    kindle,\n    paperback,\n  };\n\n  if (series && seriesNumber) {\n    series = { name: series, number: seriesNumber };\n  } else {\n    series = { name: '', number: '' };\n  }\n\n  const docRef = firestore.collection('books').doc(titleCameled);\n\n  // You have to set the series name and number into an object if both are defined\n  docRef\n    .get()\n    .then(function (doc) {\n      if (doc.exists) {\n        storeCoverPic(titleCameled, coverFile);\n        docRef\n          .update({\n            title,\n            author,\n            series,\n            description,\n            tags,\n            links,\n            audio,\n            featured,\n          })\n          .then(() => alert('book updated'))\n          .catch((error) => alert(error, 'failed to update book'));\n      } else {\n        storeCoverPic(titleCameled, coverFile);\n        docRef\n          .set({\n            title,\n            author,\n            series,\n            description,\n            tags,\n            links,\n            audio,\n            featured,\n          })\n          .then(() => alert('book added'))\n          .catch((error) => alert(error, 'failed to add book'));\n      }\n    })\n    .catch((error) => alert('Error getting document:', error));\n};\n\nexport async function getOptions(toGet) {\n  const booksRef = firestore.collection('books');\n  return await booksRef.get().then(function (querySnapshot) {\n    const result = [];\n    querySnapshot.forEach(function (doc) {\n      const option = doc.get(toGet);\n      if (option !== undefined) {\n        if (typeof option === 'object') {\n          option.forEach((opt) => {\n            if (!result.includes(opt)) {\n              result.push(opt);\n            }\n          });\n        } else {\n          if (!result.includes(option)) {\n            result.push(option);\n          }\n        }\n      }\n    });\n    return result;\n  });\n}\n\nexport const storeCoverPic = (bookTitleCameled, picToUpload) => {\n  const storageRef = storage.ref(`${bookTitleCameled}/cover`);\n  storageRef.put(picToUpload).then(function () {\n    storageRef\n      .getDownloadURL()\n      .then(function (picUrl) {\n        const userRef = firestore.doc(`books/${bookTitleCameled}`);\n        userRef.update({ picUrl });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n};\n","import React from 'react';\n\nconst GeneralBtn = ({ colorClass, text, link, func, type }) => {\n  return (\n    <button\n      className={colorClass + ' general-btn'}\n      onClick={func ? func : null}\n      type={type ? type : null}\n    >\n      <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n        {text}\n      </a>\n    </button>\n  );\n};\n\nexport default GeneralBtn;\n","module.exports = __webpack_public_path__ + \"static/media/IntroBkg-min.bbb31673.png\";","const INITIAL_STATE = {\n  featuredBook: null,\n  isFetching: false,\n  errorMessage: undefined,\n};\n\nconst featuredBookReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'FETCH_FEATURED_BOOK_START':\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case 'FETCH_FEATURED_BOOK_SUCCESS':\n      return {\n        ...state,\n        isFetching: false,\n        featuredBook: action.payload,\n      };\n    case 'FETCH_FEATURED_BOOK_FAILURE':\n      return {\n        ...state,\n        isFetching: false,\n        errorMessage: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default featuredBookReducer;\n","const INITIAL_STATE = {\n  isFetching: false,\n  errorMessage: undefined,\n};\n\nconst carouselBooksReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'FETCH_CAROUSEL_BOOKS_START':\n      return {\n        ...state,\n        isFetching: true,\n        [action.payload]: [],\n      };\n    case 'FETCH_CAROUSEL_BOOKS_SUCCESS':\n      return {\n        ...state,\n        isFetching: false,\n        [action.payload.genre]: action.payload.result,\n      };\n    case 'FETCH_CAROUSEL_BOOKS_FAILURE':\n      return {\n        ...state,\n        isFetching: false,\n        errorMessage: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default carouselBooksReducer;\n","const INITIAL_STATE = {\n  height: '',\n};\n\nconst navReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'SAVE_NAV_HEIGHT_VALUE':\n      return {\n        ...state,\n        height: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default navReducer;\n","const INITIAL_STATE = {\n  isSearchBarOpen: false,\n  isSearching: false,\n  searchResults: [],\n  errorMessage: undefined,\n};\n\nconst searchReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'TOGGLE_SEARCH_BAR':\n      return {\n        ...state,\n        isSearchBarOpen: !state.isSearchBarOpen,\n      };\n    case 'FETCH_SEARCH_START':\n      return {\n        ...state,\n        isSearching: true,\n      };\n    case 'FETCH_SEARCH_SUCCESS':\n      return {\n        ...state,\n        isSearching: false,\n        searchResults: action.payload,\n      };\n    case 'FETCH_SEARCH_FAILURE':\n      return {\n        ...state,\n        isSearching: false,\n        errorMessage: action.payload,\n      };\n    case 'FETCH_SEARCH_RESULTS_START':\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case 'FETCH_SEARCH_RESULTS_SUCCESS':\n      return {\n        ...state,\n        isFetching: false,\n        searchResults: action.payload,\n      };\n    case 'FETCH_SEARCH_RESULTS_FAILURE':\n      return {\n        ...state,\n        isFetching: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default searchReducer;\n","const INITIAL_STATE = {\n  isFetchingBook: false,\n  book: null,\n  bookErrorMessage: '',\n  isFetchingRelatedBooks: false,\n  relatedBooks: null,\n  relatedBooksErrorMessage: '',\n};\n\nconst bookPageReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'FETCH_BOOK_PAGE_BOOK_START':\n      return {\n        ...state,\n        isFetchingBook: true,\n      };\n    case 'FETCH_BOOK_PAGE_BOOK_SUCCESS':\n      return {\n        ...state,\n        isFetchingBook: false,\n        book: action.payload,\n      };\n    case 'FETCH_BOOK_PAGE_BOOK_FAILURE':\n      return {\n        ...state,\n        isFetchingBook: false,\n        bookErrorMessage: action.payload,\n      };\n    case 'FETCH_BOOK_PAGE_RELATED_BOOKS_START':\n      return {\n        ...state,\n        isFetchingRelatedBooks: true,\n      };\n    case 'FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS':\n      return {\n        ...state,\n        isFetchingRelatedBooks: false,\n        relatedBooks: action.payload,\n      };\n    case 'FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE':\n      return {\n        ...state,\n        isFetching: false,\n        relatedBooksErrorMessage: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default bookPageReducer;\n","const INITIAL_STATE = {\n  isFetching: false,\n  authorsBooks: null,\n  errorMessage: '',\n};\n\nconst authorPageReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'FETCH_AUTHOR_PAGE_BOOKS_START':\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case 'FETCH_AUTHOR_PAGE_BOOKS_SUCCESS':\n      return {\n        ...state,\n        isFetching: false,\n        authorsBooks: action.payload,\n      };\n    case 'FETCH_AUTHOR_PAGE_BOOKS_FAILURE':\n      return {\n        ...state,\n        isFetching: false,\n        errorMessage: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authorPageReducer;\n","import { combineReducers } from 'redux';\nimport featuredBookReducer from './featuredBook/featuredBookReducer';\nimport carouselBooksReducer from './carousel/carouselReducer';\nimport navReducer from './nav/navReducer';\nimport searchReducer from './search/searchReducer';\nimport bookPageReducer from './bookPage/bookPageReducer';\nimport authorPageReducer from './authorPage/authorPageReducer';\n\nexport default combineReducers({\n  featuredBook: featuredBookReducer,\n  carouselBooks: carouselBooksReducer,\n  nav: navReducer,\n  search: searchReducer,\n  bookPage: bookPageReducer,\n  authorPage: authorPageReducer,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\nimport rootReducer from './root-reducer';\nimport thunk from 'redux-thunk';\n\nconst middlewares = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n  middlewares.push(logger);\n}\n\nconst store = createStore(rootReducer, applyMiddleware(...middlewares));\n\nconsole.log(store.getState());\nexport default store;\n","import { firestore } from '../../firebase/firebase';\n\n// FEATURED BOOK =-==-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nexport const fetchFeaturedBookStart = () => {\n  return {\n    type: 'FETCH_FEATURED_BOOK_START',\n  };\n};\n\nexport const fetchFeaturedBookSuccess = (featuredBook) => {\n  return {\n    type: 'FETCH_FEATURED_BOOK_SUCCESS',\n    payload: featuredBook,\n  };\n};\n\nexport const fetchFeaturedBookFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_FEATURED_BOOK_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchFeaturedBookAsync = () => {\n  return (dispatch) => {\n    dispatch(fetchFeaturedBookStart);\n    const booksRef = firestore.collection('books');\n    const query = booksRef.where('featured', '==', true);\n    query\n      .get()\n      .then((querySnapshot) => {\n        // Here you are replacing result each time in the loop, now\n        // you only have 1 feature book, look out for this if you decied to have\n        // multiple feature books\n        let result;\n        querySnapshot.forEach((doc) => {\n          result = doc.data();\n        });\n        dispatch(fetchFeaturedBookSuccess(result));\n      })\n      .catch((error) => dispatch(fetchFeaturedBookFailure(error.message)));\n  };\n};\n","import React, { useEffect } from 'react';\nimport Fade from 'react-reveal';\n\nconst AppLoader = () => {\n  useEffect(() => {\n    let tID;\n    let position = 256;\n    const interval = 100;\n    tID = setInterval(() => {\n      document.getElementById(\n        'loading'\n      ).style.backgroundPosition = `-${position}px 0px`;\n\n      if (position < 3070) {\n        position = position + 256;\n      } else {\n        position = 256;\n      }\n    }, interval);\n\n    return () => {\n      clearInterval(tID);\n    };\n  });\n  return (\n    <div className=\"app-loader-container\">\n      <Fade>\n        <div id=\"loading\" />\n      </Fade>\n    </div>\n  );\n};\n\nexport default AppLoader;\n","import React from 'react';\n\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\n  <div className=\"group\">\n    <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n        className={`${\n          otherProps.value.length ? 'shrink' : ''\n        } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n  </div>\n);\n\nexport default FormInput;\n","import React from 'react';\nimport Fade from 'react-reveal';\nimport FormInput from '../../components/input/input.component';\nimport GeneralBtn from '../../components/generalBtn/generalBtn.component';\n\nclass ContactPage extends React.Component {\n  state = {\n    name: '',\n    email: '',\n    message: '',\n    sent: false,\n  };\n\n  handleForm = (e) => {\n    e.preventDefault();\n    this.setState({\n      name: '',\n      email: '',\n      message: '',\n      sent: true,\n    });\n\n    setTimeout(\n      function () {\n        this.setState({\n          sent: false,\n        });\n      }.bind(this),\n      3000\n    );\n  };\n\n  handleFields = (e) => this.setState({ [e.target.name]: e.target.value });\n\n  render() {\n    const { name, email, message } = this.state;\n    return (\n      <div className=\"contact-page-container\">\n        <Fade duration={2000}>\n          <form className=\"contact-form\" onSubmit={this.handleForm}>\n            {this.state.sent ? (\n              <Fade>\n                <h2 className=\"contact-page-title\">\n                  Thanks, we'll get back to you asap!\n                </h2>\n              </Fade>\n            ) : (\n              <>\n                <Fade down>\n                  <h2 className=\"contact-page-title\">Contact us</h2>\n                </Fade>\n                <Fade left>\n                  <FormInput\n                    type=\"text\"\n                    value={name}\n                    name=\"name\"\n                    label=\"Name\"\n                    onChange={this.handleFields}\n                    required\n                  />\n                </Fade>\n                <Fade right>\n                  <FormInput\n                    type=\"email\"\n                    value={email}\n                    name=\"email\"\n                    label=\"Email\"\n                    onChange={this.handleFields}\n                    required\n                  />\n                </Fade>\n                <Fade left>\n                  <textarea\n                    value={message}\n                    name=\"message\"\n                    rows=\"8\"\n                    onChange={this.handleFields}\n                    placeholder=\"Enter Your Message...\"\n                    required\n                  />\n                </Fade>\n                <Fade right>\n                  <GeneralBtn\n                    className=\"send-form\"\n                    colorClass=\"purchase\"\n                    text=\"Send\"\n                    type=\"submit\"\n                  />\n                </Fade>\n              </>\n            )}\n          </form>\n        </Fade>\n      </div>\n    );\n  }\n}\n\nexport default ContactPage;\n","import React, { Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { createBrowserHistory } from 'history';\nimport { useMediaQuery } from 'react-responsive';\nimport { Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { fetchFeaturedBookAsync } from './redux/featuredBook/featuredBookActions';\nimport { cacheImage } from './utilities/funcs';\nimport mainBkg from '../src/assets/png/IntroBkg-min.png';\nimport './App.scss';\nimport AppLoader from './components/appLoader/appLoader.component';\nimport ContactPage from './pages/Contact/contact-page.component';\n\nconst customHistory = createBrowserHistory();\n\nconst MobileMediaQuery = ({ children }) => {\n  const isMobile = useMediaQuery({ minWidth: 0, maxWidth: 767 });\n  return isMobile ? children : null;\n};\n\nconst TabletOrDesktopMediaQuery = ({ children }) => {\n  const isTabletOrDesktop = useMediaQuery({ minWidth: 768 });\n  return isTabletOrDesktop ? children : null;\n};\n\nconst ErrorBoundary = React.lazy(() =>\n  import('./components/errorBoundary/error-boundary.component')\n);\n\nconst NavDesktop = React.lazy(() =>\n  import('./components/nav/navDesktop/navDesktop.component')\n);\n\nconst NavMobile = React.lazy(() =>\n  import('./components/nav/navMobile/navMobile.component')\n);\n\nconst CreateBook = React.lazy(() =>\n  import('./pages/CreateBook/createBook.component')\n);\n\nconst FourZeroFour = React.lazy(() => import('./pages/404/404.component'));\n\nconst HomePage = React.lazy(() => import('./pages/Home/home.component'));\n\nconst BookPage = React.lazy(() =>\n  import('./pages/BookPage/bookPage.component')\n);\n\nconst AuthorPage = React.lazy(() =>\n  import('./pages/AuthorPage/author-page.compnent')\n);\n\nfunction App({ fetchFeaturedBookAsync }) {\n  const [isLoading, setIsLoading] = React.useState(true);\n  React.useEffect(() => {\n    fetchFeaturedBookAsync();\n    const imgs = [mainBkg];\n    setTimeout(() => {\n      cacheImage(imgs, setIsLoading);\n    }, 2000);\n  }, [fetchFeaturedBookAsync]);\n\n  return (\n    <div className=\"App\">\n      {isLoading ? (\n        <AppLoader />\n      ) : (\n        <Router history={customHistory}>\n          <Suspense fallback={<div className=\"suspense-container\" />}>\n            <ErrorBoundary history={customHistory}>\n              <TabletOrDesktopMediaQuery>\n                <NavDesktop />\n              </TabletOrDesktopMediaQuery>\n              <MobileMediaQuery>\n                <NavMobile />\n              </MobileMediaQuery>\n\n              <Switch>\n                <Route exact path=\"/bestapocalypticbooks\">\n                  <Redirect to=\"/bestapocalypticbooks/home\" />\n                </Route>\n                <Route path=\"/bestapocalypticbooks/home\">\n                  <HomePage />\n                </Route>\n                <Route exact path=\"/bestapocalypticbooks/create\">\n                  <CreateBook />\n                </Route>\n                <Route exact path=\"/bestapocalypticbooks/books/:id\">\n                  <BookPage />\n                </Route>\n                <Route exact path=\"/bestapocalypticbooks/authors/:id\">\n                  <AuthorPage />\n                </Route>\n                <Route exact path=\"/bestapocalypticbooks/contact\">\n                  <ContactPage />\n                </Route>\n                <Route path=\"*\">\n                  <FourZeroFour />\n                </Route>\n              </Switch>\n            </ErrorBoundary>\n          </Suspense>\n        </Router>\n      )}\n    </div>\n  );\n}\nconst mapDispatchToProps = (dispatch) => ({\n  fetchFeaturedBookAsync: () => dispatch(fetchFeaturedBookAsync()),\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}