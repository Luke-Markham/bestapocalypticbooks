(this.webpackJsonpbestapocalypticbooks=this.webpackJsonpbestapocalypticbooks||[]).push([[1],{19:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s}));var n=a(0),r=a.n(n);function c(e,t){if("highlight"===t){var a=(e=e.substr(0,519)).lastIndexOf(" ");e=(e=e.substr(0,a)).split("*")}else e=e.split("*");return e.map((function(a,n){return r.a.createElement("span",{key:n},a,n===e.length-1&&"highlight"===t?"...":n===e.length-1?"..":"",r.a.createElement("br",null),r.a.createElement("br",null))}))}function o(e,t){e.forEach((function(e){new Promise((function(t,a){var n=new Image;n.src=e,n.onload=t(),n.onerror=a()}))})),void 0!==t&&t(!1)}function l(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")}function i(e){return e.replace(/\s/g,"-")}function s(e){return e.split("-").join(" ")}},31:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return b}));var n=a(12),r=a.n(n),c=a(21),o=a(18),l=a.n(o),i=(a(57),a(61),a(75),a(19));l.a.initializeApp({apiKey:"AIzaSyDGP--Y0PXYunox7TXU8XmwknSed1mZjRc",authDomain:"bestapocalypticbooks.firebaseapp.com",databaseURL:"https://bestapocalypticbooks.firebaseio.com",projectId:"bestapocalypticbooks",storageBucket:"bestapocalypticbooks.appspot.com",messagingSenderId:"627300782228",appId:"1:627300782228:web:c8e953b710e99a687a6481",measurementId:"G-D7MC31YZJG"});var s=l.a.firestore(),u=(l.a.auth(),l.a.storage());var d=function(e){var t=e.title,a=e.author,n=e.series,r=e.seriesNumber,c=e.description,o=e.tags,l=e.audiobook,u=e.audio,d=e.kindle,b=e.paperback,h=e.featured,p=e.coverFile,m=Object(i.b)(t);o=o.split(",");var f={audiobook:l,kindle:d,paperback:b};n=n&&r?{name:n,number:r}:{name:"",number:""};var O=s.collection("books").doc(m);O.get().then((function(e){e.exists?(E(m,p),O.update({title:t,author:a,series:n,description:c,tags:o,links:f,audio:u,featured:h}).then((function(){return alert("book updated")})).catch((function(e){return alert(e,"failed to update book")}))):(E(m,p),O.set({title:t,author:a,series:n,description:c,tags:o,links:f,audio:u,featured:h}).then((function(){return alert("book added")})).catch((function(e){return alert(e,"failed to add book")})))})).catch((function(e){return alert("Error getting document:",e)}))};function b(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.collection("books"),e.next=3,a.get().then((function(e){var a=[];return e.forEach((function(e){var n=e.get(t);void 0!==n&&("object"===typeof n?n.forEach((function(e){a.includes(e)||a.push(e)})):a.includes(n)||a.push(n))})),a}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e,t){var a=u.ref("".concat(e,"/cover"));a.put(t).then((function(){a.getDownloadURL().then((function(t){s.doc("books/".concat(e)).update({picUrl:t})})).catch((function(e){console.log(e)}))}))}},35:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.colorClass,a=e.text,n=e.link,c=e.func,o=e.type;return r.a.createElement("button",{className:t+" general-btn",onClick:c||null,type:o||null},r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},a))}},44:function(e,t,a){e.exports=a.p+"static/media/IntroBkg-min.bbb31673.png"},46:function(e,t,a){e.exports=a(74)},63:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=a(20),i=a(15),s=(a(55),a(1)),u={featuredBook:null,isFetching:!1,errorMessage:void 0},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FEATURED_BOOK_START":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!0});case"FETCH_FEATURED_BOOK_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,featuredBook:t.payload});case"FETCH_FEATURED_BOOK_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},b=a(13),h={isFetching:!1,errorMessage:void 0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CAROUSEL_BOOKS_START":return Object(s.a)(Object(s.a)({},e),{},Object(b.a)({isFetching:!0},t.payload,[]));case"FETCH_CAROUSEL_BOOKS_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},Object(b.a)({isFetching:!1},t.payload.genre,t.payload.result));case"FETCH_CAROUSEL_BOOKS_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},p={height:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_NAV_HEIGHT_VALUE":return Object(s.a)(Object(s.a)({},e),{},{height:t.payload});default:return e}},f={isSearchBarOpen:!1,isSearching:!1,searchResults:[],errorMessage:void 0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SEARCH_BAR":return Object(s.a)(Object(s.a)({},e),{},{isSearchBarOpen:!e.isSearchBarOpen});case"FETCH_SEARCH_START":return Object(s.a)(Object(s.a)({},e),{},{isSearching:!0});case"FETCH_SEARCH_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isSearching:!1,searchResults:t.payload});case"FETCH_SEARCH_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isSearching:!1,errorMessage:t.payload});case"FETCH_SEARCH_RESULTS_START":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!0});case"FETCH_SEARCH_RESULTS_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,searchResults:t.payload});case"FETCH_SEARCH_RESULTS_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.payload});default:return e}},g={isFetchingBook:!1,book:null,bookErrorMessage:"",isFetchingRelatedBooks:!1,relatedBooks:null,relatedBooksErrorMessage:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOK_PAGE_BOOK_START":return Object(s.a)(Object(s.a)({},e),{},{isFetchingBook:!0});case"FETCH_BOOK_PAGE_BOOK_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isFetchingBook:!1,book:t.payload});case"FETCH_BOOK_PAGE_BOOK_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetchingBook:!1,bookErrorMessage:t.payload});case"FETCH_BOOK_PAGE_RELATED_BOOKS_START":return Object(s.a)(Object(s.a)({},e),{},{isFetchingRelatedBooks:!0});case"FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isFetchingRelatedBooks:!1,relatedBooks:t.payload});case"FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,relatedBooksErrorMessage:t.payload});default:return e}},v={isFetching:!1,authorsBooks:null,errorMessage:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AUTHOR_PAGE_BOOKS_START":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!0});case"FETCH_AUTHOR_PAGE_BOOKS_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,authorsBooks:t.payload});case"FETCH_AUTHOR_PAGE_BOOKS_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},y=Object(i.c)({featuredBook:d,carouselBooks:E,nav:m,search:O,bookPage:_,authorPage:S}),k=[a(43).a];var j=Object(i.d)(y,i.a.apply(void 0,k));console.log(j.getState());var F=j,C=a(33),T=a(9),A=a(26),B=a(76),R=a(31),U=function(){return{type:"FETCH_FEATURED_BOOK_START"}},H=a(19),w=a(44),K=a.n(w),L=(a(63),a(10)),I=a.n(L),x=function(){return Object(n.useEffect)((function(){var e,t=256;return e=setInterval((function(){document.getElementById("loading").style.backgroundPosition="-".concat(t,"px 0px"),t<3070?t+=256:t=256}),100),function(){clearInterval(e)}})),r.a.createElement("div",{className:"app-loader-container"},r.a.createElement(I.a,null,r.a.createElement("div",{id:"loading"})))},P=a(36),M=a(37),G=a(25),N=a(39),D=a(38),z=a(45),W=function(e){var t=e.handleChange,a=e.label,n=Object(z.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?r.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)},Y=a(35),q=function(e){Object(N.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",message:"",sent:!1},e.handleForm=function(t){t.preventDefault(),e.setState({name:"",email:"",message:"",sent:!0}),setTimeout(function(){this.setState({sent:!1})}.bind(Object(G.a)(e)),3e3)},e.handleFields=function(t){return e.setState(Object(b.a)({},t.target.name,t.target.value))},e}return Object(M.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.message;return r.a.createElement("div",{className:"contact-page-container"},r.a.createElement(I.a,{duration:2e3},r.a.createElement("form",{className:"contact-form",onSubmit:this.handleForm},this.state.sent?r.a.createElement(I.a,null,r.a.createElement("h2",{className:"contact-page-title"},"Thanks, we'll get back to you asap!")):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{down:!0},r.a.createElement("h2",{className:"contact-page-title"},"Contact us")),r.a.createElement(I.a,{left:!0},r.a.createElement(W,{type:"text",value:t,name:"name",label:"Name",onChange:this.handleFields,required:!0})),r.a.createElement(I.a,{right:!0},r.a.createElement(W,{type:"email",value:a,name:"email",label:"Email",onChange:this.handleFields,required:!0})),r.a.createElement(I.a,{left:!0},r.a.createElement("textarea",{value:n,name:"message",rows:"8",onChange:this.handleFields,placeholder:"Enter Your Message...",required:!0})),r.a.createElement(I.a,{right:!0},r.a.createElement(Y.a,{className:"send-form",colorClass:"purchase",text:"Send",type:"submit"}))))))}}]),a}(r.a.Component),J=Object(T.a)(),V=function(e){var t=e.children;return Object(A.useMediaQuery)({minWidth:0,maxWidth:767})?t:null},X=function(e){var t=e.children;return Object(A.useMediaQuery)({minWidth:768})?t:null},Z=r.a.lazy((function(){return a.e(11).then(a.bind(null,138))})),Q=r.a.lazy((function(){return a.e(5).then(a.bind(null,139))})),$=r.a.lazy((function(){return a.e(4).then(a.bind(null,140))})),ee=r.a.lazy((function(){return a.e(12).then(a.bind(null,141))})),te=r.a.lazy((function(){return a.e(10).then(a.bind(null,142))})),ae=r.a.lazy((function(){return Promise.all([a.e(0),a.e(7),a.e(8)]).then(a.bind(null,143))})),ne=r.a.lazy((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,144))})),re=r.a.lazy((function(){return a.e(6).then(a.bind(null,145))}));var ce=Object(l.b)(null,(function(e){return{fetchFeaturedBookAsync:function(){return e((function(e){e(U),R.b.collection("books").where("featured","==",!0).get().then((function(t){var a;t.forEach((function(e){a=e.data()})),e({type:"FETCH_FEATURED_BOOK_SUCCESS",payload:a})})).catch((function(t){return e({type:"FETCH_FEATURED_BOOK_FAILURE",payload:t.message})}))}))}}}))((function(e){var t=e.fetchFeaturedBookAsync,a=r.a.useState(!0),c=Object(C.a)(a,2),o=c[0],l=c[1];return r.a.useEffect((function(){t();var e=[K.a];setTimeout((function(){Object(H.a)(e,l)}),2e3)}),[t]),r.a.createElement("div",{className:"App"},o?r.a.createElement(x,null):r.a.createElement(B.c,{history:J},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"suspense-container"})},r.a.createElement(Z,{history:J},r.a.createElement(X,null,r.a.createElement(Q,null)),r.a.createElement(V,null,r.a.createElement($,null)),r.a.createElement(B.d,null,r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/"},r.a.createElement(B.a,{to:"/bestapocalypticbooks/home"})),r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/home"},r.a.createElement(ae,null)),r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/create"},r.a.createElement(ee,null)),r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/books/:id"},r.a.createElement(ne,null)),r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/authors/:id"},r.a.createElement(re,null)),r.a.createElement(B.b,{exact:!0,path:"/bestapocalypticbooks/contact"},r.a.createElement(q,null)),r.a.createElement(B.b,{path:"*"},r.a.createElement(te,null)))))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:F},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,2,3]]]);
//# sourceMappingURL=main.865f02ca.chunk.js.map