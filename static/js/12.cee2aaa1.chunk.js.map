{"version":3,"sources":["pages/CreateBook/createBook.component.jsx"],"names":["CreateBook","props","handleDisplayPicChange","e","setState","coverFile","target","files","state","title","author","authorOptions","description","tags","tagsOptions","audiobook","audio","kindle","paperback","featured","seriesOptions","series","seriesNumber","handleChange","bind","handleSubmit","componentDidMount","_this","a","getOptions","seriesOptionsResults","authorOptionsResults","tagsOptionsResults","getData","this","value","type","checked","name","preventDefault","createBook","className","autoComplete","onSubmit","onChange","list","id","length","map","option","index","key","rows","React","Component"],"mappings":"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","file":"static/js/12.cee2aaa1.chunk.js","sourcesContent":["import React from 'react';\nimport { createBook, getOptions } from '../../firebase/firebase';\n\nclass CreateBook extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      author: '',\n      authorOptions: [],\n      description: '',\n      tags: '',\n      tagsOptions: [],\n      audiobook: '',\n      audio: '',\n      kindle: '',\n      paperback: '',\n      featured: false,\n      coverFile: '',\n      seriesOptions: [],\n      series: '',\n      seriesNumber: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    async function getData(_this) {\n      const seriesOptionsResults = await getOptions('series.name');\n      const authorOptionsResults = await getOptions('author');\n      const tagsOptionsResults = await getOptions('tags');\n      _this.setState({\n        seriesOptions: seriesOptionsResults,\n        authorOptions: authorOptionsResults,\n        tagsOptions: tagsOptionsResults,\n      });\n    }\n    getData(this);\n  }\n\n  handleChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleDisplayPicChange = (e) => {\n    this.setState({ coverFile: e.target.files[0] });\n  };\n\n  handleSubmit(e) {\n    e.preventDefault();\n    createBook({ ...this.state });\n  }\n\n  render() {\n    return (\n      <div className=\"create-page-container\">\n        <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n          <label>\n            title:\n            <input\n              type=\"text\"\n              name=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            author:\n            <input\n              type=\"text\"\n              name=\"author\"\n              list=\"authorOptions\"\n              value={this.state.author}\n              onChange={this.handleChange}\n            />\n            <datalist id=\"authorOptions\">\n              {this.state.authorOptions.length > 0\n                ? this.state.authorOptions.map((option, index) => {\n                    return (\n                      <option key={index} value={option}>\n                        {option}\n                      </option>\n                    );\n                  })\n                : null}\n            </datalist>\n          </label>\n          <label>\n            series:\n            <input\n              type=\"text\"\n              name=\"series\"\n              list=\"seriesOptions\"\n              value={this.state.series}\n              onChange={this.handleChange}\n            />\n            <datalist id=\"seriesOptions\">\n              {this.state.seriesOptions.length > 0\n                ? this.state.seriesOptions.map((option, index) => {\n                    return (\n                      <option key={index} value={option}>\n                        {option}\n                      </option>\n                    );\n                  })\n                : null}\n            </datalist>\n          </label>\n          {this.state.series.length > 0 ? (\n            <label>\n              Number in the series:\n              <input\n                type=\"number\"\n                name=\"seriesNumber\"\n                value={this.state.seriesNumber}\n                onChange={this.handleChange}\n              />\n            </label>\n          ) : null}\n          <label>\n            description:\n            <textarea\n              type=\"text\"\n              name=\"description\"\n              value={this.state.description}\n              onChange={this.handleChange}\n              rows=\"10\"\n            />\n          </label>\n          <label>\n            tags (comma seperated):\n            <input\n              type=\"text\"\n              name=\"tags\"\n              list=\"tagsOptions\"\n              value={this.state.tags}\n              onChange={this.handleChange}\n            />\n            <datalist id=\"tagsOptions\">\n              {this.state.tagsOptions.length > 0\n                ? this.state.tagsOptions.map((option, index) => {\n                    return (\n                      <option key={index} value={option}>\n                        {option}\n                      </option>\n                    );\n                  })\n                : null}\n            </datalist>\n          </label>\n          <label>\n            audiobook:\n            <input\n              type=\"text\"\n              name=\"audiobook\"\n              value={this.state.audiobook}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            audio:\n            <input\n              type=\"text\"\n              name=\"audio\"\n              value={this.state.audio}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            kindle\n            <input\n              type=\"text\"\n              name=\"kindle\"\n              value={this.state.kindle}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            paperback:\n            <input\n              type=\"text\"\n              name=\"paperback\"\n              value={this.state.paperback}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            featured\n            <input\n              type=\"checkbox\"\n              name=\"featured\"\n              value={this.state.featured}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            cover photo:\n            <input\n              type=\"file\"\n              name=\"coverFile\"\n              onChange={this.handleDisplayPicChange}\n            />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default CreateBook;\n"],"sourceRoot":""}