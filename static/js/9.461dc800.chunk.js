(this.webpackJsonpbestapocalypticbooks=this.webpackJsonpbestapocalypticbooks||[]).push([[9],{100:function(e,t,a){"use strict";var o=a(12),n=a.n(o),r=a(21),c=a(0),i=a.n(c),l=a(20),s=a(19),u=a(76),m=a(26),d=a(78),k=a(32),b=a.n(k),f=a(35),p=a(85);t.a=Object(l.b)(null,(function(e){return{clearPreviousBookPageBookState:function(t){return e(Object(d.b)(t))},clearPreviousBookPageRelatedBooksState:function(t){return e(Object(d.d)(t))},pushBookToBookPageState:function(t){return e(Object(d.b)(t))},fetchBookPageRelatedBooksAsync:function(t){return e(Object(d.c)(t))}}}))((function(e){var t=e.isFetching,a=e.book,o=e.clearPreviousBookPageBookState,c=e.clearPreviousBookPageRelatedBooksState,l=e.pushBookToBookPageState,d=e.fetchBookPageRelatedBooksAsync,k=Object(u.h)().pathname,g=Object(u.g)(),E=function(){var e=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(null);case 2:return e.next=4,c(null);case 4:l(a),d(a.title),g.push("/books/".concat(Object(s.c)(a.title)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(m.useMediaQuery)({minWidth:0,maxWidth:767});return i.a.createElement("div",{className:"full-book-container"},t||!a?null:i.a.createElement(i.a.Fragment,null,h?null:i.a.createElement(b.a,{left:!0,duration:1e3,delay:250},i.a.createElement("div",{className:"full-book-description-container"},i.a.createElement("h3",{className:"full-book-title"},a.title),i.a.createElement("div",{className:"full-book-author-and-series-container"},i.a.createElement("p",{className:"full-book-author"},a.author),a.series&&a.series.name?i.a.createElement("p",{className:"full-book-series"},"(Book ",a.series.number," ",a.series.name,")"):null),i.a.createElement("p",{className:"full-book-blurb"},Object(s.e)(a.description)))),i.a.createElement(b.a,{right:!0,duration:1e3,delay:250},i.a.createElement("div",{className:"full-book-img-container"},i.a.createElement("img",{src:a.picUrl,alt:"featured item cover",className:"full-book-img"}))),i.a.createElement(b.a,{left:!0,duration:1e3,delay:250},i.a.createElement("div",{className:"btn-links-and-audio-container"},i.a.createElement(f.a,{className:"button-audiobook",colorClass:"purchase",text:"Audiobook",link:a.links.audiobook}),i.a.createElement(f.a,{className:"button-kindle",colorClass:"purchase",text:"Kindle",link:a.links.kindle}),i.a.createElement(f.a,{className:"button-paperback",colorClass:"purchase",text:"Paperback",link:a.links.paperback}),"/home"===k?i.a.createElement(f.a,{className:"button-moreInfo",colorClass:"more-info",text:h?"More":"More Info",func:E}):null)),i.a.createElement(b.a,{right:!0,duration:1e3,delay:300},i.a.createElement("div",{className:"audioPlayer-container"},i.a.createElement(p.a,{audioSrc:a.audio})))))}))},101:function(e,t,a){e.exports=a.p+"static/media/down-arrow.279db7c1.svg"},144:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(76),c=a(20),i=a(78),l=a(101),s=a.n(l),u=a(32),m=a.n(u),d=a(100),k=a(12),b=a.n(k),f=a(21),p=a(19),g=a(107),E=a.n(g),h=(a(110),Object(c.b)(null,(function(e){return{clearPreviousBookPageBookState:function(t){return e(Object(i.b)(t))},clearPreviousBookPageRelatedBooksState:function(t){return e(Object(i.d)(t))},pushBookToBookPageState:function(t){return e(Object(i.b)(t))},pushRelatedBooksToBookPageState:function(t){return e(Object(i.d)(t))}}}))((function(e){var t=e.books,a=e.relatedSeries,o=e.clearPreviousBookPageBookState,c=e.clearPreviousBookPageRelatedBooksState,i=e.pushBookToBookPageState,l=e.pushRelatedBooksToBookPageState,s=Object(r.g)(),u=function(){var e=Object(f.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(null);case 2:return e.next=4,c(null);case 4:i(a),l(t),s.push("/books/".concat(Object(p.c)(a.title)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(m.a,{duration:1e3},n.a.createElement("div",{className:"related-carousel-master-container",name:"book-page-related-carousel"},n.a.createElement("p",{className:"related-carousel-series"},"More in the ",a," series"),t?n.a.createElement(E.a,{responsive:{xxl:{breakpoint:{max:1e4,min:1620},items:6,slidesToSlide:2},xl:{breakpoint:{max:1620,min:1370},items:5,slidesToSlide:5},l:{breakpoint:{max:1370,min:1080},items:4,slidesToSlide:3},m:{breakpoint:{max:1080,min:810},items:3,slidesToSlide:3},s:{breakpoint:{max:810,min:540},items:2,slidesToSlide:2},xs:{breakpoint:{max:500,min:0},items:1,slidesToSlide:1}},className:"related-carousel-container",itemClass:"related-carousel-item-container",minimumTouchDrag:80,swipeable:!0,draggable:!0,centerMode:!0,customTransition:"all 750ms ease-in-out"},t.map((function(e,t){return n.a.createElement("img",{key:t,className:"related-carousel-item",src:e.picUrl,alt:"book cover",onClick:function(){return u(e)}})}))):null))}))),B=a(95),O=(B.Element,B.Link);t.default=Object(c.b)((function(e){return{book:e.bookPage.book,isFetchingBook:e.bookPage.isFetchingBook,relatedBooks:e.bookPage.relatedBooks,isFetchingRelatedBooks:e.bookPage.isFetchingRelatedBooks,navHeight:e.nav.height}}),(function(e){return{fetchBookPageBookAsync:function(t){return e(Object(i.a)(t))},fetchBookPageRelatedBooksAsync:function(t){return e(Object(i.c)(t))}}}))((function(e){var t=e.navHeight,a=e.book,o=e.relatedBooks,c=e.isFetchingBook,i=e.fetchBookPageBookAsync,l=e.fetchBookPageRelatedBooksAsync,u=Object(r.i)(),k={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0) 10%, rgba(0, 0, 0, 0.1) 80%, rgba(0, 0, 0, 0.9)),\n    linear-gradient(to right, rgba(0, 0, 0, 1),\n     rgba(0, 0, 0, 0.5) 60% ), url(".concat(a?a.picUrl:"",")")};return n.a.useEffect((function(){a||(i(u.id),l(u.id))}),[u.id]),n.a.createElement(m.a,null,n.a.createElement("div",{className:"book-page-container"},n.a.createElement("div",{className:"book-page-book-container",style:k},a?n.a.createElement(d.a,{isFetching:c,book:a}):null,o?n.a.createElement(O,{to:"book-page-related-carousel",smooth:!0,duration:1e3,offset:-t},n.a.createElement("img",{src:s.a,alt:"down arrow",className:"book-page-related-down-arrow"})):null),o?n.a.createElement(h,{relatedSeries:o?o[0].series.name:null,books:o}):null))}))},78:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return l}));var o=a(31),n=a(19),r=function(e){return{type:"FETCH_BOOK_PAGE_BOOK_SUCCESS",payload:e}},c=function(e){var t=Object(n.b)(Object(n.d)(e));return function(e){var a;e({type:"FETCH_BOOK_PAGE_BOOK_START"}),o.b.collection("books").doc(t).get().then((function(t){a=!!t.exists&&t.data(),e(r(a))})).catch((function(t){return e({type:"FETCH_BOOK_PAGE_BOOK_FAILURE",payload:t.message})}))}},i=function(e){return{type:"FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS",payload:e}},l=function(e){var t=Object(n.d)(e);return function(e){e({type:"FETCH_BOOK_PAGE_RELATED_BOOKS_START"}),o.b.collection("books").where("title","==",t).where("series.name",">","").get().then((function(t){t.forEach((function(t){if(t.exists){var a=t.data().series.name;o.b.collection("books").where("series.name","==",a).get().then((function(t){var a=[];t.forEach((function(e){var t=e.data();a.push(t)})),e(i(a))}))}else e(i(!1))}))})).catch((function(t){return e({type:"FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE",payload:t})}))}}},85:function(e,t,a){"use strict";var o=a(0),n=a.n(o);t.a=function(e){var t=e.audioSrc;return n.a.createElement("div",{className:"audioPlayer-container"},n.a.createElement("audio",{className:"audio-player",controls:!0},n.a.createElement("source",{src:t,type:"audio/mpeg"})))}}}]);
//# sourceMappingURL=9.461dc800.chunk.js.map