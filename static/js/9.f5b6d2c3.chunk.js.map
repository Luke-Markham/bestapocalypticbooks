{"version":3,"sources":["components/fullBook/fullBook.component.jsx","assets/svg/down-arrow.svg","components/relatedCarousel/relatedCarousel.component.jsx","pages/BookPage/bookPage.component.jsx","redux/bookPage/bookPageActions.js","components/audioPlayer/audioPlayer.component.jsx"],"names":["connect","dispatch","clearPreviousBookPageBookState","clearValue","fetchBookPageBookSuccess","clearPreviousBookPageRelatedBooksState","fetchBookPageRelatedBooksSuccess","pushBookToBookPageState","book","fetchBookPageRelatedBooksAsync","title","isFetching","location","useLocation","pathname","history","useHistory","handleMoreInfo","a","push","dashlize","isMobile","useMediaQuery","minWidth","maxWidth","className","left","duration","delay","author","series","name","number","handleDesc","description","right","src","picUrl","alt","colorClass","text","link","links","audiobook","kindle","paperback","includes","func","audioSrc","audio","module","exports","pushRelatedBooksToBookPageState","books","relatedSeries","handleCarouselItemSelect","responsive","xxl","breakpoint","max","min","items","slidesToSlide","xl","l","m","s","xs","itemClass","minimumTouchDrag","swipeable","draggable","centerMode","customTransition","map","index","key","onClick","ScrollLink","Element","Link","state","bookPage","isFetchingBook","relatedBooks","isFetchingRelatedBooks","navHeight","nav","height","fetchBookPageBookAsync","para","useParams","style","backgroundImage","React","useEffect","id","to","smooth","offset","downArrow","type","payload","titleCameled","camelize","dedashlize","firestore","collection","doc","get","then","exists","data","catch","error","message","titleSpaced","where","querySnapshot","forEach","seriesName","querySnapshot2","doc2","AudioPlayer","controls"],"mappings":"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","file":"static/js/9.f5b6d2c3.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { handleDesc, dashlize } from '../../utilities/funcs';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  fetchBookPageBookSuccess,\n  fetchBookPageRelatedBooksSuccess,\n  fetchBookPageRelatedBooksAsync,\n} from '../../redux/bookPage/bookPageActions';\nimport Fade from 'react-reveal/Fade';\nimport GeneralBtn from '../generalBtn/generalBtn.component';\nimport AudioPlayer from '../audioPlayer/audioPlayer.component';\n\nconst FullBook = ({\n  isFetching,\n  book,\n  clearPreviousBookPageBookState,\n  clearPreviousBookPageRelatedBooksState,\n  pushBookToBookPageState,\n  fetchBookPageRelatedBooksAsync,\n}) => {\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const handleMoreInfo = async () => {\n    await clearPreviousBookPageBookState(null);\n    await clearPreviousBookPageRelatedBooksState(null);\n    pushBookToBookPageState(book);\n    fetchBookPageRelatedBooksAsync(book.title);\n    history.push(`/bestapocalypticbooks/books/${dashlize(book.title)}`);\n  };\n  const isMobile = useMediaQuery({ minWidth: 0, maxWidth: 767 });\n  return (\n    <div className=\"full-book-container\">\n      {isFetching || !book ? null : (\n        <>\n          {isMobile ? null : (\n            <Fade left duration={1000} delay={250}>\n              <div className=\"full-book-description-container\">\n                <h3 className=\"full-book-title\">{book.title}</h3>\n                <div className=\"full-book-author-and-series-container\">\n                  <p className=\"full-book-author\">{book.author}</p>\n                  {book.series && book.series.name ? (\n                    <p className=\"full-book-series\">\n                      (Book {book.series.number} {book.series.name})\n                    </p>\n                  ) : null}\n                </div>\n                <p className=\"full-book-blurb\">\n                  {handleDesc(book.description)}\n                </p>\n              </div>\n            </Fade>\n          )}\n          <Fade right duration={1000} delay={250}>\n            <div className=\"full-book-img-container\">\n              <img\n                src={book.picUrl}\n                alt=\"featured item cover\"\n                className=\"full-book-img\"\n              />\n            </div>\n          </Fade>\n          <Fade left duration={1000} delay={250}>\n            <div className=\"btn-links-and-audio-container\">\n              <GeneralBtn\n                className=\"button-audiobook\"\n                colorClass=\"purchase\"\n                text=\"Audiobook\"\n                link={book.links.audiobook}\n              />\n              <GeneralBtn\n                className=\"button-kindle\"\n                colorClass=\"purchase\"\n                text=\"Kindle\"\n                link={book.links.kindle}\n              />\n              <GeneralBtn\n                className=\"button-paperback\"\n                colorClass=\"purchase\"\n                text=\"Paperback\"\n                link={book.links.paperback}\n              />\n              {location.includes('/home') ? (\n                <GeneralBtn\n                  className=\"button-moreInfo\"\n                  colorClass=\"more-info\"\n                  text={isMobile ? 'More' : 'More Info'}\n                  func={handleMoreInfo}\n                />\n              ) : null}\n            </div>\n          </Fade>\n          <Fade right duration={1000} delay={300}>\n            <div className=\"audioPlayer-container\">\n              <AudioPlayer audioSrc={book.audio} />\n            </div>\n          </Fade>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearPreviousBookPageBookState: (clearValue) =>\n    dispatch(fetchBookPageBookSuccess(clearValue)),\n  clearPreviousBookPageRelatedBooksState: (clearValue) =>\n    dispatch(fetchBookPageRelatedBooksSuccess(clearValue)),\n  pushBookToBookPageState: (book) => dispatch(fetchBookPageBookSuccess(book)),\n  fetchBookPageRelatedBooksAsync: (title) =>\n    dispatch(fetchBookPageRelatedBooksAsync(title)),\n});\n\nexport default connect(null, mapDispatchToProps)(FullBook);\n","module.exports = __webpack_public_path__ + \"static/media/down-arrow.279db7c1.svg\";","import React from 'react';\nimport {\n  fetchBookPageBookSuccess,\n  fetchBookPageRelatedBooksSuccess,\n} from '../../redux/bookPage/bookPageActions';\nimport { connect } from 'react-redux';\nimport { dashlize } from '../../utilities/funcs';\nimport { useHistory } from 'react-router-dom';\nimport Fade from 'react-reveal/Fade';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\n\nconst RelatedCarousel = ({\n  books,\n  relatedSeries,\n  clearPreviousBookPageBookState,\n  clearPreviousBookPageRelatedBooksState,\n  pushBookToBookPageState,\n  pushRelatedBooksToBookPageState,\n}) => {\n  const history = useHistory();\n\n  const handleCarouselItemSelect = async (book) => {\n    await clearPreviousBookPageBookState(null);\n    await clearPreviousBookPageRelatedBooksState(null);\n    pushBookToBookPageState(book);\n    pushRelatedBooksToBookPageState(books);\n    history.push(`/bestapocalypticbooks/books/${dashlize(book.title)}`);\n  };\n\n  return (\n    <Fade duration={1000}>\n      <div\n        className=\"related-carousel-master-container\"\n        name=\"book-page-related-carousel\"\n      >\n        <p className=\"related-carousel-series\">\n          More in the {relatedSeries} series\n        </p>\n        {books ? (\n          <Carousel\n            responsive={{\n              xxl: {\n                breakpoint: {\n                  max: 10000,\n                  min: 1620,\n                },\n                items: 6,\n                slidesToSlide: 2,\n              },\n              xl: {\n                breakpoint: {\n                  max: 1620,\n                  min: 1370,\n                },\n                items: 5,\n                slidesToSlide: 5,\n              },\n\n              l: {\n                breakpoint: {\n                  max: 1370,\n                  min: 1080,\n                },\n                items: 4,\n                slidesToSlide: 3, // optional, default to 1.\n              },\n              m: {\n                breakpoint: {\n                  max: 1080,\n                  min: 810,\n                },\n                items: 3,\n                slidesToSlide: 3, // optional, default to 1.\n              },\n              s: {\n                breakpoint: {\n                  max: 810,\n                  min: 540,\n                },\n                items: 2,\n                slidesToSlide: 2, // optional, default to 1.\n              },\n              xs: {\n                breakpoint: {\n                  max: 500,\n                  min: 0,\n                },\n                items: 1,\n                slidesToSlide: 1, // optional, default to 1.\n              },\n            }}\n            className=\"related-carousel-container\"\n            itemClass=\"related-carousel-item-container\"\n            minimumTouchDrag={80}\n            swipeable\n            draggable\n            centerMode\n            customTransition=\"all 750ms ease-in-out\"\n          >\n            {books.map((book, index) => {\n              return (\n                <img\n                  key={index}\n                  className=\"related-carousel-item\"\n                  src={book.picUrl}\n                  alt=\"book cover\"\n                  onClick={() => handleCarouselItemSelect(book)}\n                />\n              );\n            })}\n          </Carousel>\n        ) : null}\n      </div>\n    </Fade>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearPreviousBookPageBookState: (clearValue) =>\n    dispatch(fetchBookPageBookSuccess(clearValue)),\n  clearPreviousBookPageRelatedBooksState: (clearValue) =>\n    dispatch(fetchBookPageRelatedBooksSuccess(clearValue)),\n  pushBookToBookPageState: (book) => dispatch(fetchBookPageBookSuccess(book)),\n  pushRelatedBooksToBookPageState: (books) =>\n    dispatch(fetchBookPageRelatedBooksSuccess(books)),\n});\n\nexport default connect(null, mapDispatchToProps)(RelatedCarousel);\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  fetchBookPageBookAsync,\n  fetchBookPageRelatedBooksAsync,\n  fetchBookPageBookSuccess,\n} from '../../redux/bookPage/bookPageActions';\nimport downArrow from '../../assets/svg/down-arrow.svg';\nimport Fade from 'react-reveal/Fade';\nimport FullBook from '../../components/fullBook/fullBook.component';\nimport RelatedCarousel from '../../components/relatedCarousel/relatedCarousel.component';\nimport { Element, Link } from 'react-scroll';\n\nconst ScrollElement = Element;\nconst ScrollLink = Link;\n\nconst BookPage = ({\n  navHeight,\n  book,\n  relatedBooks,\n  isFetchingBook,\n  fetchBookPageBookAsync,\n  fetchBookPageRelatedBooksAsync,\n}) => {\n  const para = useParams();\n\n  const style = {\n    backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0) 10%, rgba(0, 0, 0, 0.1) 80%, rgba(0, 0, 0, 0.9)),\n    linear-gradient(to right, rgba(0, 0, 0, 1),\n     rgba(0, 0, 0, 0.5) 60% ), url(${book ? book.picUrl : ''})`,\n  };\n\n  React.useEffect(() => {\n    if (!book) {\n      fetchBookPageBookAsync(para.id);\n      fetchBookPageRelatedBooksAsync(para.id);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [para.id]);\n\n  return (\n    <Fade>\n      <div className=\"book-page-container\">\n        <div className=\"book-page-book-container\" style={style}>\n          {!book ? null : <FullBook isFetching={isFetchingBook} book={book} />}\n          {!relatedBooks ? null : (\n            <ScrollLink\n              to=\"book-page-related-carousel\"\n              smooth={true}\n              duration={1000}\n              offset={-navHeight}\n            >\n              <img\n                src={downArrow}\n                alt=\"down arrow\"\n                className=\"book-page-related-down-arrow\"\n              />\n            </ScrollLink>\n          )}\n        </div>\n        {!relatedBooks ? null : (\n          <RelatedCarousel\n            relatedSeries={relatedBooks ? relatedBooks[0].series.name : null}\n            books={relatedBooks}\n          />\n        )}\n      </div>\n    </Fade>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  book: state.bookPage.book,\n  isFetchingBook: state.bookPage.isFetchingBook,\n  relatedBooks: state.bookPage.relatedBooks,\n  isFetchingRelatedBooks: state.bookPage.isFetchingRelatedBooks,\n  navHeight: state.nav.height,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchBookPageBookAsync: (title) => dispatch(fetchBookPageBookAsync(title)),\n  fetchBookPageRelatedBooksAsync: (title) =>\n    dispatch(fetchBookPageRelatedBooksAsync(title)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookPage);\n","import { firestore } from '../../firebase/firebase';\nimport { camelize, dedashlize } from '../../utilities/funcs';\n\n// BOOK =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nexport const fetchBookPageBookStart = () => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_START',\n  };\n};\n\nexport const fetchBookPageBookSuccess = (book) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_SUCCESS',\n    payload: book,\n  };\n};\n\nexport const fetchBookPageBookFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_BOOK_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchBookPageBookAsync = (title) => {\n  const titleCameled = camelize(dedashlize(title));\n  return (dispatch) => {\n    dispatch(fetchBookPageBookStart());\n    const docRef = firestore.collection('books').doc(titleCameled);\n    let book;\n    docRef\n      .get()\n      .then(function (doc) {\n        if (doc.exists) {\n          book = doc.data();\n        } else {\n          book = false;\n        }\n        dispatch(fetchBookPageBookSuccess(book));\n      })\n      .catch((error) => dispatch(fetchBookPageBookFailure(error.message)));\n  };\n};\n\n// RELATED BOOKS =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nexport const fetchBookPageRelatedBooksStart = () => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_START',\n  };\n};\n\nexport const fetchBookPageRelatedBooksSuccess = (books) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS',\n    payload: books,\n  };\n};\n\nexport const fetchBookPageRelatedBooksFailure = (errorMessage) => {\n  return {\n    type: 'FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE',\n    payload: errorMessage,\n  };\n};\n\nexport const fetchBookPageRelatedBooksAsync = (title) => {\n  const titleSpaced = dedashlize(title);\n  return (dispatch) => {\n    dispatch(fetchBookPageRelatedBooksStart());\n    const docQuery = firestore\n      .collection('books')\n      .where('title', '==', titleSpaced)\n      .where('series.name', '>', '');\n\n    docQuery\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          if (doc.exists) {\n            const seriesName = doc.data().series.name;\n            const seriesQuery = firestore\n              .collection('books')\n              .where('series.name', '==', seriesName);\n\n            seriesQuery.get().then((querySnapshot2) => {\n              const relatedBooks = [];\n              querySnapshot2.forEach((doc2) => {\n                const book = doc2.data();\n                relatedBooks.push(book);\n              });\n\n              dispatch(fetchBookPageRelatedBooksSuccess(relatedBooks));\n            });\n          } else {\n            dispatch(fetchBookPageRelatedBooksSuccess(false));\n          }\n        });\n      })\n      .catch((error) => dispatch(fetchBookPageRelatedBooksFailure(error)));\n  };\n};\n","import React from 'react';\n\nconst AudioPlayer = ({ audioSrc }) => {\n  return (\n    <div className=\"audioPlayer-container\">\n      <audio className=\"audio-player\" controls>\n        <source src={audioSrc} type=\"audio/mpeg\" />\n      </audio>\n    </div>\n  );\n};\n\nexport default AudioPlayer;\n"],"sourceRoot":""}