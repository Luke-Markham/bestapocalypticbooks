(this.webpackJsonpbestapocalypticbooks=this.webpackJsonpbestapocalypticbooks||[]).push([[6],{133:function(e,t,o){e.exports=o.p+"static/media/bookBkg-1.74bb8628.jpg"},134:function(e,t,o){e.exports=o.p+"static/media/bookBkg-2.2b8d075f.jpg"},135:function(e,t,o){e.exports=o.p+"static/media/bookBkg-3.8a69d6b3.jpg"},145:function(e,t,o){"use strict";o.r(t);var n=o(33),r=o(0),a=o.n(r),i=o(20),u=o(76),c=o(32),l=o.n(c),s=o(81),f=o(12),d=o.n(f),p=o(21),v=o(78),h=o(19),b=o(90),m=o.n(b),y=Object(i.b)(null,(function(e){return{clearPreviousBookPageBookState:function(t){return e(Object(v.b)(t))},clearPreviousBookPageRelatedBooksState:function(t){return e(Object(v.d)(t))},pushBookToBookPageState:function(t){return e(Object(v.b)(t))},pushRelatedBooksToBookPageState:function(t){return e(Object(v.d)(t))}}}))((function(e){var t=e.books,o=e.clearPreviousBookPageBookState,n=e.clearPreviousBookPageRelatedBooksState,r=e.pushBookToBookPageState,i=e.pushRelatedBooksToBookPageState,c=Object(u.g)(),s=function(){var e=Object(p.a)(d.a.mark((function e(a){var u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(null);case 2:return e.next=4,n(null);case 4:r(a),u=t.filter((function(e){return e.title!==a.title})),console.log(u),i(u),c.push("/books/".concat(Object(h.c)(a.title)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"books-in-grid-container"},t.map((function(e,t){return a.a.createElement(m.a,{key:t,offset:50,once:!0},a.a.createElement(l.a,{duration:1e3},a.a.createElement("div",{className:"books-in-grid-book-container"},a.a.createElement("img",{onClick:function(){return s(e)},alt:"cover of book",src:e.picUrl,className:"books-in-grid-book-img"}))))})))}));t.default=Object(i.b)((function(e){var t=e.authorPage;return{authorsBooks:t.authorsBooks,isFetching:t.isFetching}}),(function(e){return{fetchAuthorPageBooksAsync:function(t){return e(Object(s.a)(t))}}}))((function(e){var t=e.authorsBooks,r=e.fetchAuthorPageBooksAsync,i=Object(u.i)(),c=a.a.useState(),s=Object(n.a)(c,2),f=s[0],d=s[1],p={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0) 10%, rgba(0, 0, 0, 0.8) 80%, rgba(0, 0, 0, 1)),\n    linear-gradient(to right, rgba(0, 0, 0, 1),\n     rgba(0, 0, 0, 0.5) 60% ), url(".concat(f,")")};return a.a.useEffect((function(){switch(t||r(i.id),Math.floor(3*Math.random())+1){case 1:d(o(133));break;case 2:d(o(134));break;case 3:d(o(135))}}),[]),a.a.createElement(l.a,null,a.a.createElement("div",{className:"author-page-container",style:p},a.a.createElement(l.a,{duratation:1e3,delay:500},a.a.createElement("p",{className:"author-page-author-name"},t?t[0].author:null)),t?a.a.createElement(l.a,{duratation:1e3},a.a.createElement(y,{books:t})):null))}))},78:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i})),o.d(t,"d",(function(){return u})),o.d(t,"c",(function(){return c}));var n=o(31),r=o(19),a=function(e){return{type:"FETCH_BOOK_PAGE_BOOK_SUCCESS",payload:e}},i=function(e){var t=Object(r.b)(Object(r.d)(e));return function(e){var o;e({type:"FETCH_BOOK_PAGE_BOOK_START"}),n.b.collection("books").doc(t).get().then((function(t){o=!!t.exists&&t.data(),e(a(o))})).catch((function(t){return e({type:"FETCH_BOOK_PAGE_BOOK_FAILURE",payload:t.message})}))}},u=function(e){return{type:"FETCH_BOOK_PAGE_RELATED_BOOKS_SUCCESS",payload:e}},c=function(e){var t=Object(r.d)(e);return function(e){e({type:"FETCH_BOOK_PAGE_RELATED_BOOKS_START"}),n.b.collection("books").where("title","==",t).where("series.name",">","").get().then((function(t){t.forEach((function(t){if(t.exists){var o=t.data().series.name;n.b.collection("books").where("series.name","==",o).get().then((function(t){var o=[];t.forEach((function(e){var t=e.data();o.push(t)})),e(u(o))}))}else e(u(!1))}))})).catch((function(t){return e({type:"FETCH_BOOK_PAGE_RELATED_BOOKS_FAILURE",payload:t})}))}}},81:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i}));var n=o(31),r=o(19),a=function(e){return{type:"FETCH_AUTHOR_PAGE_BOOKS_SUCCESS",payload:e}},i=function(e){var t=Object(r.d)(e);return function(e){e({type:"FETCH_AUTHOR_PAGE_BOOKS_START"}),n.b.collection("books").where("author","==",t).get().then((function(t){var o=[];t.forEach((function(e){var t=e.data();o.push(t)})),e(a(o))})).catch((function(t){return e({type:"FETCH_AUTHOR_PAGE_BOOKS_FAILURE",payload:t})}))}}},90:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceVisible=t.forceCheck=t.lazyload=void 0;var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),a=f(r),i=f(o(3)),u=o(91),c=f(o(92)),l=f(o(93)),s=f(o(94));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=0,b=0,m=0,y=0,g="data-lazyload-listened",E=[],O=[],_=!1;try{var k=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,k)}catch(R){}var w=!!_&&{capture:!1,passive:!0},B=function(e){var t=e.ref;if(t instanceof HTMLElement){var o=(0,c.default)(t);(e.props.overflow&&o!==t.ownerDocument&&o!==document&&o!==document.documentElement?function(e,t){var o=e.ref,n=void 0,r=void 0,a=void 0,i=void 0;try{var u=t.getBoundingClientRect();n=u.top,r=u.left,a=u.height,i=u.width}catch(R){n=h,r=b,a=y,i=m}var c=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth,s=Math.max(n,0),f=Math.max(r,0),d=Math.min(c,n+a)-s,p=Math.min(l,r+i)-f,v=void 0,g=void 0,E=void 0,O=void 0;try{var _=o.getBoundingClientRect();v=_.top,g=_.left,E=_.height,O=_.width}catch(R){v=h,g=b,E=y,O=m}var k=v-s,w=g-f,B=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return k-B[0]<=d&&k+E+B[1]>=0&&w-B[0]<=p&&w+O+B[1]>=0}(e,o):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var o=void 0,n=void 0;try{var r=t.getBoundingClientRect();o=r.top,n=r.height}catch(R){o=h,n=y}var a=window.innerHeight||document.documentElement.clientHeight,i=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return o-i[0]<=a&&o+n+i[1]>=0}(e))?e.visible||(e.props.once&&O.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},P=function(){O.forEach((function(e){var t=E.indexOf(e);-1!==t&&E.splice(t,1)})),O=[]},T=function(){for(var e=0;e<E.length;++e){var t=E[e];B(t)}P()},A=void 0,j=null,C=function(e){function t(e){d(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.visible=!1,o.setRef=o.setRef.bind(o),o}return v(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var o=void 0!==this.props.debounce&&"throttle"===A||"debounce"===A&&void 0===this.props.debounce;if(o&&((0,u.off)(e,"scroll",j,w),(0,u.off)(window,"resize",j,w),j=null),j||(void 0!==this.props.debounce?(j=(0,l.default)(T,"number"===typeof this.props.debounce?this.props.debounce:300),A="debounce"):void 0!==this.props.throttle?(j=(0,s.default)(T,"number"===typeof this.props.throttle?this.props.throttle:300),A="throttle"):j=T),this.props.overflow){var n=(0,c.default)(this.ref);if(n&&"function"===typeof n.getAttribute){var r=+n.getAttribute(g)+1;1===r&&n.addEventListener("scroll",j,w),n.setAttribute(g,r)}}else if(0===E.length||o){var a=this.props,i=a.scroll,f=a.resize;i&&(0,u.on)(e,"scroll",j,w),f&&(0,u.on)(window,"resize",j,w)}E.push(this),B(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,c.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(g)-1;0===t?(e.removeEventListener("scroll",j,w),e.removeAttribute(g)):e.setAttribute(g,t)}}var o=E.indexOf(this);-1!==o&&E.splice(o,1),0===E.length&&"undefined"!==typeof window&&((0,u.off)(window,"resize",j,w),(0,u.off)(window,"scroll",j,w))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,o=e.children,n=e.placeholder,r=e.classNamePrefix;return a.default.createElement("div",{className:r+"-wrapper",ref:this.setRef},this.visible?o:n||a.default.createElement("div",{style:{height:t},className:r+"-placeholder"}))}}]),t}(r.Component);C.propTypes={classNamePrefix:i.default.string,once:i.default.bool,height:i.default.oneOfType([i.default.number,i.default.string]),offset:i.default.oneOfType([i.default.number,i.default.arrayOf(i.default.number)]),overflow:i.default.bool,resize:i.default.bool,scroll:i.default.bool,children:i.default.node,throttle:i.default.oneOfType([i.default.number,i.default.bool]),debounce:i.default.oneOfType([i.default.number,i.default.bool]),placeholder:i.default.node,scrollContainer:i.default.oneOfType([i.default.string,i.default.object]),unmountIfInvisible:i.default.bool},C.defaultProps={classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var S=function(e){return e.displayName||e.name||"Component"};t.lazyload=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(o){function r(){d(this,r);var e=p(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.displayName="LazyLoad"+S(t),e}return v(r,o),n(r,[{key:"render",value:function(){return a.default.createElement(C,e,a.default.createElement(t,this.props))}}]),r}(r.Component)}},t.default=C,t.forceCheck=T,t.forceVisible=function(){for(var e=0;e<E.length;++e){var t=E[e];t.visible=!0,t.forceUpdate()}P()}},91:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,o,n){n=n||!1,e.addEventListener?e.addEventListener(t,o,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){o.call(e,t||window.event)}))},t.off=function(e,t,o,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,o,n):e.detachEvent&&e.detachEvent("on"+t,o)}},92:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,o=/(scroll|auto)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document.documentElement;var r=window.getComputedStyle(n),a=r.position,i=r.overflow,u=r["overflow-x"],c=r["overflow-y"];if("static"===a&&t)n=n.parentNode;else{if(o.test(i)&&o.test(u)&&o.test(c))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},93:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){var n=void 0,r=void 0,a=void 0,i=void 0,u=void 0,c=function c(){var l=+new Date-i;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,o||(u=e.apply(a,r),n||(a=null,r=null)))};return function(){a=this,r=arguments,i=+new Date;var l=o&&!n;return n||(n=setTimeout(c,t)),l&&(u=e.apply(a,r),a=null,r=null),u}}},94:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){var n,r;return t||(t=250),function(){var a=o||this,i=+new Date,u=arguments;n&&i<n+t?(clearTimeout(r),r=setTimeout((function(){n=i,e.apply(a,u)}),t)):(n=i,e.apply(a,u))}}}}]);
//# sourceMappingURL=6.a6dfd2a8.chunk.js.map